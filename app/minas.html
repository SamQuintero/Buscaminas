<!doctype html>
<html lang="en">

<head>
  <title>Title</title>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Bootstrap CSS v5.2.1 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
    <script src="https://kit.fontawesome.com/c69dfcfab2.js" crossorigin="anonymous"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Anton&family=Kdam+Thmor+Pro&family=Patua+One&family=Pixelify+Sans:wght@700&family=Prompt:ital,wght@1,900&family=Titan+One&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
</head>

<body>
  <header>
    <!-- place navbar here -->
    <nav class="navbar navbar-expand-sm navbar-light navbar-personalizado">
        <div class="container-lg d-flex justify-content-lg-center me-lg-3 me-sm-0 me-md-2">
          <a class="navbar-brand" href="javascript:void(0)"><i class="fa-solid fa-bomb fa-2xl" style="color: #3A4A40;"></i></a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mynavbar">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="mynavbar">
            <ul class="navbar-nav me-lg-2 mt-2 mt-lg-0">
              <li class="nav-item me-2 ">
                <a class="nav-link" href="#">Inicio</a>
              </li>
              <li class="nav-item me-2">
                <a class="nav-link" href="scores.html">Score</a>
              </li>
              
            </ul>
            <div class="container me-sm-0 me-md-2" style="position:absolute; color:#3A4A40; left:42%; width: fit-content; font-family: 'Kdam Thmor Pro', sans-serif;">
              <h1><b>Buscaminas</b></h1>
            </div>
          </div>  
          
         <div id="loginIcon">
          <a type="text"  data-bs-toggle="modal" role="button" data-bs-target="#login_modal" style="color: #3A4A40;;">
            <i class="fa-solid fa-user fa-lg me-md-2 ms-sm-2 " style="color: #3A4A40;"></i><div id="UserName"  style="display: none;"></div> <span>Ingresar</span>
          </a>
         </div> 
         <div id="loggedUserIcon" style="display: none;">
          <a role="button" data-bs-toggle="modal" href="./user.html" style="color: #3A4A40;">
              <i class="fa-solid fa-user fa-lg me-md-2 ms-sm-2" style="color: #3A4A40;"></i>
              <span id="loggedUsername">User</span>
          </a>
        </div>
          <a class="nav-link mx-3" data-bs-toggle="modal" role="button" data-bs-target="#settings_modal" onclick="openSettings()"><i class="fa-solid fa-gear fa-xl" style="color: #3A4A40;"></i></a>
         
        </div>
    </nav>

    <!-- SETTINGS MODAL -->
    <div class="modal fade" id="settings_modal" tabindex="-1" data-bs-backdrop="static" data-bs-keyboard="false" role="dialog" aria-labelledby="modalTitleId" aria-hidden="true">
      <div class="modal-dialog modal-dialog-scrollable modal-dialog-centered modal-sm" role="document">
        <div class="modal-content">
          <div class="modal-header text-dark p-2">
              <h5 class="modal-title" style="color: #00262C;">Opciones</h5>
              <button type="button" class="btn-close  mr-1" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body d-flex justify-content-center " style="background-color: #E6E6E6;">
            <form>
              <div class="bg-light rounded p-3">
                <input id="easy" type="radio" class="form-check-input checkbox" name="difficulty_level" value="easy">
                <label for="easy" class="form-label"><b>Fácil</b></label>
                <br>
                <input id="normal" type="radio" class="form-check-input checkbox" name="difficulty_level" value="normal" checked>
                <label for="normal" class="form-label"><b>Normal</b></label>
                <br>
                <input id="hard" type="radio" class="form-check-input checkbox" name="difficulty_level" value="hard">
                <label for="hard" class="form-label"><b>Difícil</b></label>
              </div>
              <br><br>
              <div class="bg-light rounded p-3">
                <input id="music" type="checkbox" class="form-check-input checkbox" checked>
                <label for="music" class="form-label"><b>Música</b></label>
                <input id="sound" type="checkbox" class="form-check-input checkbox" checked>
                <label for="sound" class="form-label"><b>Sonido</b></label>
              </div>
              <br><br>
              <button type="button" class="btn" style="background-color: #8dbc84; color:#f1f1f1" data-bs-dismiss="modal" aria-label="Close" onclick="saveSettings()">Guardar</button>
              <button type="button" class="btn " style="background-color: #e47e88; color:#e7e7e7" data-bs-dismiss="modal" aria-label="Close" onclick="cancelSettings()">Cancelar</button>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- Login modal -->
    <div class="modal fade" id="login_modal" tabindex="-1" data-bs-backdrop="static" data-bs-keyboard="false" role="dialog" aria-labelledby="modalTitleId" aria-hidden="true">
      <div class="modal-dialog modal-dialog-scrollable modal-dialog-centered modal-sm" role="document">
        <div class="modal-content">
          <div class="modal-header text-light p-2">
            <h5 class="modal-title" id="modalTitleId" style="color:#00262C" >Iniciar sesión</h5>
              <button id="close_login_modal" type="button" class="btn-close mr-1" data-bs-dismiss="modal" aria-label="Close" onclick="clearInput('login_input')"></button>
          </div>
          <div class="modal-body">
            <form>
              <label for="email" class="form-label">Correo</label>
              <div class="input-group mb-3">
                <input type="text" id="email" class="form-control" placeholder="Ingresa tu correo" name="login_input" required>
                <i class='fas fa-user-alt input-group-text' style="padding-top:10px;"></i>
              </div>
              <label for="pwd" class="form-label">Contraseña</label>
              <div class="input-group mb-3">
                <input type="password" id="pwd" class="form-control" placeholder="Ingresa tu contraseña" name="login_input" required>
                <i class='fas fa-key input-group-text' style="padding-top:10px;"></i>
              </div>
              <div class="d-flex justify-content-center">
                <button type="button" class="btn" style="background-color:#A48ABD; color:#fcfcfc" onclick="login()">Login</button>
              </div>
            </form>
          </div>
          <div class="modal-footer justify-content-center">
            <span>¿No tienes cuenta?</span>
            <a role="button" style="color:rgb(53, 159, 157);" data-bs-toggle="modal" data-bs-target="#register_modal">Registrate aquí</a>
          </div>
        </div>
      </div>
    </div>

    <!-- Register modal -->
    <div class="modal fade" id="register_modal" tabindex="-1" data-bs-backdrop="static" data-bs-keyboard="false" role="dialog" aria-labelledby="modalTitleId" aria-hidden="true">
      <div class="modal-dialog modal-dialog-scrollable modal-dialog-centered" role="document">
        <div class="modal-content">
          <form>
            <div class="modal-header">
              <h5 class="modal-title" id="modalTitleId">Registrarse</h5>
                <button id="close_register_modal" type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" onclick="clearInput('register_input')"></button>
            </div>
            <div class="modal-body">
              <div class="container">
                <div class="row">
                  <div class="col-12 mb-2">
                    <input type="text" id="new_userName" class="form-control" placeholder="Nombre de usuario" name="register_input" required>
                  </div>
                  <div class="col-12 mb-2">
                    <input type="text" id="new_email" class="form-control" placeholder="E-mail" name="register_input" required>
                  </div>
                  <div class="col-12 mb-2">
                    <input type="password" id="new_pwd" class="form-control" placeholder="Contraseña" name="register_input" required>
                  </div>
                  <div class="col-12 mb-2">
                    <input type="password" id="confirm_pwd" class="form-control" placeholder="Confirmar contraseña" name="register_input" required>
                  </div>
                </div>
              </div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn" style="background-color: #8dbc84; color:#f1f1f1" onclick="registerUser()">Registrarse</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </header>
  <main>
     
    <div>
      <div class="row">
        <div class="col-2 d-flex justify-content-center">
          <div style="width: 40%;">
            <div class="score mt-3">
              <h6 style="color: #e0d7f9;">BEST</h6>
              <h4 id="personal_best" style="color: white;">1230</h4>
            </div>
    
              <div class="current mt-3">
                <h6 style="color: #e0d7f9;">SCORE</h6>
                <h4 style="color: white;">0</h4>
              </div>
          </div>   
        </div>
        
        <div class="col-8 mt-4">
          <div class="max-container container d-flex justify-content-center flex-column">
            <div class="row pt-3">
              <div class="col-3">
                <div class="tiempo d-flex align-items-end justify-content-center">
                  <h2 id="minasNumber" class="numbers">40</h2>
                </div>
              </div>
              <div class="col-6 d-flex justify-content-around">


                <button class="top reiniciar px-3" onclick="loadBoard()"><i class="fa-solid fa-face-smile fa-2xl" style="color: rgb(249, 228, 124);"></i></button>
                <button id="Flag" class="top flag px-3" onclick="banderas()"><i class="fa-solid fa-flag fa-2xl" style="color: #f12b2b;" ></i></button>

              </div>
              <div class="col-3">
                <div class="tiempo d-flex align-items-end justify-content-center">
                  <h2 id="timer" class="numbers">00:00</h2>
                </div>
              </div>
            </div>
            <lottie-player id="explotion" class="lotti" src="./ExplotionAnimation.json" background="transparent" speed="1" style="width: 300px; height: 300px; display:none; " loop autoplay></lottie-player>
            <lottie-player id="confetti" class="lotti" src="https://lottie.host/90bd2624-0867-4be5-9546-72a4d0a74fcb/OflIdLvz1l.json"  speed="0.5" style="width: 300px; height: 300px; display:none" loop autoplay></lottie-player>
            <div class="row mt-5">
              <div class="d-flex justify-content-center">
                <div id="tablero"></div>
              </div>
            </div>
          </div>
        </div>
        
        <div class="col-2 d-flex justify-content-center">
          <div class="global-score mt-3 d-flex justify-content-center">
            <h6 style="color: #C8DEC5;">
              BEST SCORES
              <ol class="pt-1" style="color: white;">
                <li name="best_scores">98762</li>
                <li name="best_scores">78762</li>
                <li name="best_scores">48762</li>
              </ol>
            </h6>
          </div>
        </div>
       
      </div>
    </div>
    
    <audio  id="musica" autoplay loop><source src="./Joji.mp3" type="audio/mpeg"> </audio>
    <audio id="clickSound" src="./mouse-click.mp3"></audio>
    <audio id="endGame" src="./endGame.wav"></audio>
    <button id="musicabtn" onclick="playMusic()" style="display: none;"></button>
  </main>
  <footer>
    <!-- place footer here -->
  </footer>
  <!-- Bootstrap JavaScript Libraries -->
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
    integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous">
  </script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.min.js"
    integrity="sha384-7VPbUDkoPSGFnVtYi0QogXtr74QeVeeIs99Qfg5YCF+TidwNdjvaKZX19NZ/e6oz" crossorigin="anonymous">
  </script>
  <script src="minas.js"></script>
</body>
</html>